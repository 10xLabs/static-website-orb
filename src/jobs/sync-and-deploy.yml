description: >
  Copy files and invalidate the distribution

executor: default

parameters:
  bucket-name:
    type: string
    description: "The destination bucket"
  source-folder:
    type: string
    description: "The source folder to copy files"
  distribution-id:
    type: string
    description: "The CloudFront distribution ID"
  sync-options:
    type: string
    default: ""
    description: "AWS CLI S3 sync options"
steps:
  - checkout
  - sync-and-deploy:
      bucket-name: << parameters.bucket-name >>
      source-folder: << parameters.source-folder >>
      distribution-id: << parameters.distribution-id >>
      sync-options: << parameters.sync-options >>
